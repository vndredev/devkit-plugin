{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DevKit Plugin Config",
  "type": "object",
  "required": [
    "project"
  ],
  "properties": {
    "project": {
      "type": "object",
      "description": "Project information",
      "required": [
        "name",
        "type"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Project name"
        },
        "type": {
          "type": "string",
          "enum": [
            "python",
            "node",
            "nextjs",
            "typescript",
            "javascript",
            "plugin"
          ],
          "description": "Project type (python, node-based, or Claude plugin)"
        },
        "version": {
          "type": "string",
          "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+",
          "default": "0.0.0",
          "description": "Semantic version (starting point for releases)"
        },
        "slogan": {
          "type": "string",
          "description": "Short tagline for the project"
        },
        "description": {
          "type": "string",
          "description": "Brief project description"
        },
        "principles": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Project principles (KISS, YAGNI, etc.)"
        }
      }
    },
    "hooks": {
      "type": "object",
      "description": "Hook configuration",
      "properties": {
        "session": {
          "type": "object",
          "description": "SessionStart hook - shows project status",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "show_git_status": {
              "type": "boolean",
              "default": true
            },
            "auto_sync": {
              "type": "boolean",
              "default": true,
              "description": "Auto-sync outdated managed files on session start"
            },
            "auto_commit_managed": {
              "type": "boolean",
              "default": true,
              "description": "Auto-commit synced managed files on protected branches (main/master)"
            },
            "prompts": {
              "type": "object",
              "description": "Customizable output templates",
              "properties": {
                "branch": {
                  "type": "string",
                  "default": "\ud83d\udccd {branch}",
                  "description": "Branch display template"
                },
                "staged": {
                  "type": "string",
                  "default": "\u26a1{count} staged",
                  "description": "Staged files template"
                },
                "modified": {
                  "type": "string",
                  "default": "\u270f\ufe0f{count} modified",
                  "description": "Modified files template"
                },
                "untracked": {
                  "type": "string",
                  "default": "\u2753{count} untracked",
                  "description": "Untracked files template"
                },
                "protected_branch": {
                  "type": "string",
                  "default": "\u26a0\ufe0f On `{branch}` - use `/dk dev feat|fix|chore <desc>` first!",
                  "description": "Warning shown when on protected branch"
                },
                "hint": {
                  "type": "string",
                  "default": "Use `/dk` for commands, `/dk dev` for workflow",
                  "description": "Help hint"
                },
                "system_warning": {
                  "type": "string",
                  "default": "\u26a0\ufe0f Project has issues - check with /dk plugin check",
                  "description": "Warning shown directly to user when issues detected"
                }
              }
            }
          }
        },
        "validate": {
          "type": "object",
          "description": "PreToolUse hook - validates git/gh commands",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "block_force_push": {
              "type": "boolean",
              "default": true
            },
            "block_dangerous_gh": {
              "type": "boolean",
              "default": true,
              "description": "Block dangerous gh CLI commands (repo delete, secret delete)"
            },
            "enforce_dk_commands": {
              "type": "boolean",
              "default": true,
              "description": "Enforce /dk commands instead of raw gh/vercel commands"
            },
            "blocked_commands": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "gh repo delete",
                "gh secret delete",
                "gh api -X DELETE"
              ],
              "description": "List of dangerous commands to block (matched as prefix)"
            },
            "prompts": {
              "type": "object",
              "description": "Customizable error messages",
              "properties": {
                "branch_invalid": {
                  "type": "string",
                  "default": "Branch '{branch}' should match: {pattern}",
                  "description": "Invalid branch name error"
                },
                "commit_invalid": {
                  "type": "string",
                  "default": "Commit should match: type(scope): message (types: {types})",
                  "description": "Invalid commit message error"
                },
                "scope_invalid": {
                  "type": "string",
                  "default": "Unknown scope '{scope}'. Allowed: {allowed}",
                  "description": "Invalid scope error"
                },
                "force_push_blocked": {
                  "type": "string",
                  "default": "Force push is blocked. Use --force-with-lease if needed.",
                  "description": "Force push blocked message"
                },
                "gh_blocked": {
                  "type": "string",
                  "default": "Blocked: '{cmd}' - too dangerous for automatic execution",
                  "description": "Blocked gh command message"
                },
                "pr_missing_body": {
                  "type": "string",
                  "default": "gh pr create requires --body with PR template",
                  "description": "Missing PR body error"
                }
              }
            }
          }
        },
        "format": {
          "type": "object",
          "description": "PostToolUse hook - formats files and checks architecture",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "auto_format": {
              "type": "boolean",
              "default": true
            },
            "arch_check": {
              "type": "boolean",
              "default": true,
              "description": "Check architecture violations after src/ file changes"
            },
            "enforce_workflow": {
              "type": "string",
              "enum": [
                "warn",
                "off"
              ],
              "default": "warn",
              "description": "Warn when editing code on main without /dk dev workflow"
            },
            "auto_sync_arch": {
              "type": "boolean",
              "default": true,
              "description": "Auto-update ARCHITECTURE.md when config or arch files change"
            },
            "prompts": {
              "type": "object",
              "description": "Customizable output templates",
              "properties": {
                "formatted": {
                  "type": "string",
                  "default": "\u2713 Formatted: {file}",
                  "description": "File formatted message"
                },
                "test_reminder": {
                  "type": "string",
                  "default": "\ud83d\udca1 New file - consider adding: tests/{file}",
                  "description": "Test reminder for new files"
                },
                "arch_violation": {
                  "type": "string",
                  "default": "\u26a0\ufe0f Arch violation: {message}",
                  "description": "Architecture violation warning"
                },
                "arch_synced": {
                  "type": "string",
                  "default": "\ud83d\udcc4 Updated docs/ARCHITECTURE.md",
                  "description": "Architecture doc updated message"
                },
                "arch_blocking": {
                  "type": "string",
                  "default": "\ud83d\udeab LAYER VIOLATION - FIX NOW: {message}. Revert or fix the import.",
                  "description": "Error shown when blocking layer violation is detected"
                }
              }
            }
          }
        },
        "plan": {
          "type": "object",
          "description": "PreToolUse:EnterPlanMode + PostToolUse:ExitPlanMode - enforces workflow and guides planning",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "enforce_workflow": {
              "type": "string",
              "enum": [
                "warn",
                "block",
                "off"
              ],
              "default": "warn",
              "description": "Workflow enforcement: warn=show warning on protected branch, block=prevent plan mode, off=disabled"
            },
            "prompts": {
              "type": "object",
              "description": "Customizable output templates",
              "properties": {
                "workflow_required": {
                  "type": "string",
                  "default": "\u26a0\ufe0f You're on `{branch}` - use `/dk dev feat|fix|chore <desc>` to create a feature branch first.",
                  "description": "Warning shown when entering plan mode on protected branch"
                }
              }
            },
            "planning": {
              "type": "object",
              "description": "Guidelines for creating plans (before ExitPlanMode)",
              "properties": {
                "requirements": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Things to check/consider while planning"
                },
                "structure": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Sections a plan should contain"
                }
              }
            },
            "implementation": {
              "type": "object",
              "description": "Instructions shown after ExitPlanMode",
              "properties": {
                "header": {
                  "type": "string",
                  "default": "## Implementation Phase",
                  "description": "Section header"
                },
                "instructions": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Implementation steps (empty = use defaults)"
                }
              }
            },
            "hints": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Project-specific planning hints (shown in both phases)"
            }
          }
        },
        "browser": {
          "type": "object",
          "description": "PostToolUse hook - reminds to verify UI after frontend changes",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "dev_server": {
              "type": "object",
              "description": "Development server configuration",
              "properties": {
                "url": {
                  "type": "string",
                  "default": "http://localhost:3000",
                  "description": "Dev server URL for browser verification"
                },
                "wait_seconds": {
                  "type": "integer",
                  "default": 2,
                  "minimum": 0,
                  "maximum": 30,
                  "description": "Seconds to wait for hot-reload after navigation"
                }
              }
            },
            "frontend_patterns": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "*.tsx",
                "*.jsx",
                "*.vue",
                "*.css"
              ],
              "description": "File patterns that trigger browser verification reminder"
            },
            "prompts": {
              "type": "object",
              "description": "Customizable output templates",
              "properties": {
                "frontend_changed": {
                  "type": "string",
                  "default": "\ud83c\udf10 Frontend changed - verify UI: `/dk browser verify` or browser_snapshot on {url}",
                  "description": "Reminder shown after frontend file changes"
                }
              }
            }
          }
        },
        "arch_guard": {
          "type": "object",
          "description": "PreToolUse hook - blocks layer violations before writing code",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "discovery_enabled": {
              "type": "boolean",
              "default": true,
              "description": "Enable code similarity detection when writing new code"
            },
            "discovery_threshold": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 0.7,
              "description": "Similarity threshold (0.0-1.0) for showing duplicate warnings"
            },
            "prompts": {
              "type": "object",
              "description": "Customizable output templates",
              "properties": {
                "blocked": {
                  "type": "string",
                  "default": "\ud83d\udeab BLOCKED - Layer violation: {message}. Fix imports before writing.",
                  "description": "Message when blocking a write due to layer violation"
                },
                "similar_found": {
                  "type": "string",
                  "default": "\u26a0\ufe0f Similar code exists - consider reusing: {matches}",
                  "description": "Warning when similar code is detected"
                }
              }
            }
          }
        }
      }
    },
    "git": {
      "type": "object",
      "properties": {
        "protected_branches": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "main"
          ],
          "description": "Branches protected from force push"
        },
        "conventions": {
          "type": "object",
          "description": "Git naming conventions for commits and branches",
          "properties": {
            "types": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "feat",
                "fix",
                "chore",
                "refactor",
                "test",
                "docs",
                "perf",
                "ci"
              ],
              "description": "Allowed commit/branch types"
            },
            "scopes": {
              "type": "object",
              "description": "Scope validation configuration",
              "properties": {
                "mode": {
                  "type": "string",
                  "enum": [
                    "strict",
                    "warn",
                    "off"
                  ],
                  "default": "strict",
                  "description": "Validation mode: strict=error, warn=warning, off=disabled"
                },
                "allowed": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Allowed scope names for commits"
                },
                "internal": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "default": [
                    "internal",
                    "review",
                    "ci",
                    "deps"
                  ],
                  "description": "Internal scopes (skip release notes)"
                }
              }
            },
            "branch_pattern": {
              "type": "string",
              "default": "{type}/{description}",
              "description": "Branch naming pattern"
            }
          }
        }
      }
    },
    "github": {
      "type": "object",
      "description": "GitHub repository configuration",
      "properties": {
        "url": {
          "type": "string",
          "format": "uri",
          "description": "GitHub repository URL"
        },
        "visibility": {
          "type": "string",
          "enum": [
            "public",
            "private",
            "internal"
          ],
          "default": "public",
          "description": "Repository visibility"
        },
        "pr": {
          "type": "object",
          "description": "Pull request settings",
          "properties": {
            "auto_merge": {
              "type": "boolean",
              "default": false,
              "description": "Enable auto-merge when PR is created (requires branch protection)"
            },
            "delete_branch": {
              "type": "boolean",
              "default": true,
              "description": "Delete branch after merge"
            },
            "merge_method": {
              "type": "string",
              "enum": [
                "squash",
                "merge",
                "rebase"
              ],
              "default": "squash",
              "description": "Merge method: squash (recommended), merge, or rebase"
            }
          }
        },
        "protection": {
          "type": "object",
          "description": "Branch protection ruleset settings",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false,
              "description": "Enable branch protection ruleset"
            },
            "require_reviews": {
              "type": "integer",
              "minimum": 0,
              "default": 1,
              "description": "Required PR reviews (0 to disable)"
            },
            "linear_history": {
              "type": "boolean",
              "default": true,
              "description": "Require linear commit history"
            },
            "admin_bypass": {
              "type": "boolean",
              "default": true,
              "description": "Allow admins to bypass (requires Pro/Team+)"
            },
            "dismiss_stale_reviews": {
              "type": "boolean",
              "default": false,
              "description": "Dismiss stale PR reviews when new commits are pushed"
            }
          }
        }
      }
    },
    "deployment": {
      "type": "object",
      "description": "Deployment platform configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false,
          "description": "Enable deployment features"
        },
        "platform": {
          "type": "string",
          "enum": [
            "vercel",
            "railway",
            "render",
            "fly",
            "netlify"
          ],
          "description": "Primary deployment platform"
        },
        "platforms": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Available deployment platforms"
        },
        "framework": {
          "type": "string",
          "description": "Framework type (nextjs, other)"
        },
        "env_sync": {
          "type": "boolean",
          "default": true,
          "description": "Sync environment variables to platform"
        },
        "production_domain": {
          "type": "string",
          "description": "Production domain URL"
        },
        "note": {
          "type": "string",
          "description": "Deployment notes or restrictions"
        }
      }
    },
    "arch": {
      "type": "object",
      "description": "Clean Architecture layer configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable architecture layer validation"
        },
        "layers": {
          "type": "object",
          "description": "Layer definitions with tier numbers, patterns, and descriptions",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "tier": {
                "type": "integer",
                "minimum": 0,
                "description": "Layer tier (0=innermost, higher=outer)"
              },
              "patterns": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Glob patterns for layer files (e.g., src/core/**)"
              },
              "description": {
                "type": "string",
                "description": "Human-readable layer description for documentation"
              }
            },
            "required": [
              "tier"
            ]
          }
        }
      }
    },
    "linters": {
      "type": "object",
      "description": "Linter configuration with presets",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable linter configuration management"
        },
        "preset": {
          "type": "string",
          "enum": [
            "strict",
            "relaxed",
            "minimal"
          ],
          "default": "strict",
          "description": "Linter preset (strict, relaxed, minimal)"
        },
        "overrides": {
          "type": "object",
          "description": "Override preset values",
          "additionalProperties": true
        }
      }
    },
    "managed": {
      "type": "object",
      "description": "Managed files manifest - all generated files",
      "properties": {
        "config": {
          "type": "object",
          "description": "Config files (schema, etc.)",
          "additionalProperties": {
            "$ref": "#/$defs/managedFile"
          }
        },
        "linters": {
          "type": "object",
          "description": "Linter config files",
          "additionalProperties": {
            "$ref": "#/$defs/managedFile"
          }
        },
        "github": {
          "type": "object",
          "description": "GitHub workflows and templates",
          "additionalProperties": {
            "$ref": "#/$defs/managedFile"
          }
        },
        "docs": {
          "type": "object",
          "description": "Documentation files",
          "additionalProperties": {
            "$ref": "#/$defs/managedDoc"
          }
        },
        "ignore": {
          "type": "object",
          "description": "Ignore files (.gitignore, etc)",
          "additionalProperties": {
            "$ref": "#/$defs/managedIgnore"
          }
        }
      }
    },
    "testing": {
      "type": "object",
      "description": "Test configuration and requirements",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable test requirement checks"
        },
        "framework": {
          "type": "string",
          "enum": [
            "pytest",
            "jest",
            "vitest"
          ],
          "description": "Test framework"
        },
        "coverage": {
          "type": "object",
          "description": "Coverage requirements",
          "properties": {
            "minimum": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "default": 80,
              "description": "Minimum coverage percentage"
            },
            "exclude": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Patterns to exclude from coverage"
            }
          }
        },
        "required_modules": {
          "type": "object",
          "description": "Modules that must have tests with their required functions",
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of functions that must be tested"
          }
        }
      }
    },
    "changelog": {
      "type": "object",
      "description": "Changelog generation settings",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable automatic changelog generation on releases"
        },
        "audience": {
          "type": "string",
          "enum": [
            "developer",
            "user"
          ],
          "default": "developer",
          "description": "Target audience: developer (technical, shows scopes) or user (simple, clean)"
        },
        "sections": {
          "type": "object",
          "description": "Custom section headers per commit type",
          "properties": {
            "feat": {
              "type": "string",
              "default": "Added"
            },
            "fix": {
              "type": "string",
              "default": "Fixed"
            },
            "refactor": {
              "type": "string",
              "default": "Changed"
            },
            "perf": {
              "type": "string",
              "default": "Changed"
            }
          }
        }
      }
    },
    "consistency": {
      "type": "object",
      "description": "Project consistency validation rules",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable consistency checks"
        },
        "rules": {
          "type": "object",
          "description": "Individual rule configurations",
          "properties": {
            "module_tests": {
              "type": "object",
              "description": "Check that source modules have test files",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                },
                "patterns": {
                  "type": "object",
                  "description": "Source pattern to test pattern mapping",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "default": {
                    "src/lib/*.py": "tests/test_{stem}.py"
                  }
                },
                "exclude": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "default": [
                    "__init__.py"
                  ],
                  "description": "File names to exclude from checks"
                }
              }
            },
            "hook_handlers": {
              "type": "object",
              "description": "Check that enabled hooks have handler files",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                }
              }
            },
            "config_schema": {
              "type": "object",
              "description": "Check that config keys exist in schema",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                }
              }
            },
            "skill_routes": {
              "type": "object",
              "description": "Check that skill routes reference existing docs",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                }
              }
            },
            "custom_imports": {
              "type": "object",
              "description": "Custom import rules (deny/require)",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "deny": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Forbidden imports: 'src/hooks/* -> @prisma/client'"
                },
                "require": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Required imports (future)"
                }
              }
            }
          }
        }
      }
    },
    "discovery": {
      "type": "object",
      "description": "Code discovery configuration for duplicate detection",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable code similarity detection (shows warnings when similar code exists)"
        },
        "scan_patterns": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "src/**/*.py"
          ],
          "description": "Glob patterns for files to scan for similar code"
        },
        "threshold": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "default": 0.7,
          "description": "Similarity threshold (0.0-1.0) for detecting duplicates"
        }
      }
    },
    "dev": {
      "type": "object",
      "description": "Development server configuration",
      "properties": {
        "command": {
          "type": "string",
          "default": "npm run dev",
          "description": "Command to start dev server (npm run dev, bun dev, pnpm dev, etc.)"
        },
        "port": {
          "type": "integer",
          "default": 3000,
          "description": "Port the dev server runs on"
        },
        "include_webhooks": {
          "type": "boolean",
          "default": true,
          "description": "Whether /dk serv start includes webhook services (ngrok, Stripe CLI)"
        }
      }
    },
    "webhooks": {
      "type": "object",
      "description": "Webhook tunnel configuration for local development",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false,
          "description": "Enable webhook tunnel features (/dk webhooks)"
        },
        "ngrok": {
          "type": "object",
          "description": "ngrok tunnel configuration",
          "properties": {
            "domain": {
              "type": "string",
              "description": "Static ngrok domain (e.g., your-app.ngrok-free.app)"
            },
            "port": {
              "type": "integer",
              "default": 3000,
              "description": "Local port to forward to"
            }
          }
        },
        "services": {
          "type": "object",
          "description": "Webhook service configurations",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "path": {
                "type": "string",
                "description": "Webhook endpoint path (e.g., /api/webhooks/stripe)"
              },
              "provider": {
                "type": "string",
                "enum": [
                  "stripe",
                  "livekit",
                  "clerk",
                  "resend",
                  "custom"
                ],
                "description": "Service provider for CLI integration"
              },
              "events": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Events to listen for (provider-specific)"
              }
            },
            "required": [
              "path"
            ]
          }
        }
      }
    },
    "logging": {
      "type": "object",
      "description": "Logging and observability service configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable logging service detection and status checks"
        },
        "strategy": {
          "type": "string",
          "enum": [
            "auto",
            "terminal",
            "service"
          ],
          "default": "auto",
          "description": "Logging strategy: auto (based on project type), terminal (Python logging), service (Axiom, etc.)"
        },
        "services": {
          "type": "object",
          "description": "Explicit logging service configurations",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "provider": {
                "type": "string",
                "enum": [
                  "axiom",
                  "sentry",
                  "logrocket",
                  "datadog",
                  "pino",
                  "winston",
                  "custom"
                ],
                "description": "Logging service provider"
              },
              "env_var": {
                "type": "string",
                "description": "Environment variable name for credentials"
              }
            }
          }
        },
        "axiom": {
          "type": "object",
          "description": "Axiom-specific configuration",
          "properties": {
            "dataset": {
              "type": "string",
              "description": "Default dataset for queries and ingestion"
            },
            "org_id": {
              "type": "string",
              "description": "Axiom organization ID"
            },
            "proxy_endpoint": {
              "type": "string",
              "default": "/api/log",
              "description": "Server-side proxy endpoint for frontend logs (never expose token to client)"
            }
          }
        }
      }
    }
  },
  "$defs": {
    "managedFile": {
      "type": "object",
      "properties": {
        "template": {
          "type": "string",
          "description": "Template path relative to templates/"
        },
        "enabled": {
          "type": "boolean",
          "default": true
        }
      },
      "required": [
        "template"
      ]
    },
    "managedDoc": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "auto_sections",
            "auto_generate",
            "template"
          ],
          "description": "auto_sections preserves CUSTOM blocks, auto_generate generates from config, template copies from plugin"
        },
        "template": {
          "type": "string",
          "description": "Template path for type=template (relative to templates/)"
        },
        "enabled": {
          "type": "boolean",
          "default": true
        }
      },
      "required": [
        "type"
      ]
    },
    "managedIgnore": {
      "type": "object",
      "properties": {
        "template": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ],
          "description": "Single template or array to combine"
        },
        "enabled": {
          "type": "boolean",
          "default": true
        }
      },
      "required": [
        "template"
      ]
    }
  }
}
