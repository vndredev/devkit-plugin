{
  "$schema": "./config.schema.json",

  // ======================================================================
  // IDENTITY - Project information
  // name, type, version, slogan, description, principles
  // ======================================================================
  "project": {
    "name": "devkit-plugin",
    "type": "claude-code-plugin",
    "version": "0.55.0"
  },

  // ======================================================================
  // DEVELOPMENT - Git configuration
  // protected_branches, conventions (types, scopes, branch_pattern)
  // ======================================================================
  "git": {
    "protected_branches": [
      "main"
    ],
    "local_protection": true,
    "conventions": {
      "types": [
        "feat",
        "fix",
        "chore",
        "refactor",
        "test",
        "docs",
        "perf",
        "ci"
      ],
      "scopes": {
        "mode": "strict",
        "allowed": [],
        "internal": [
          "internal",
          "review",
          "ci",
          "deps"
        ]
      },
      "branch_pattern": "{type}/{description}"
    }
  },

  // ======================================================================
  // DEVELOPMENT - GitHub configuration
  // url, visibility, pr settings (auto_merge, delete_branch, merge_method)
  // ======================================================================
  "github": {
    "url": "",
    "visibility": "public",
    "pr": {
      "auto_merge": false,
      "delete_branch": true,
      "merge_method": "squash"
    }
  },

  // ======================================================================
  // QUALITY - Linters configuration
  // preset (strict|relaxed|minimal), overrides
  // ======================================================================
  "linters": {
    "preset": "strict",
    "overrides": {}
  },

  // ======================================================================
  // QUALITY - Testing configuration
  // enabled, framework (pytest|vitest|jest), coverage, required_modules
  // ======================================================================
  "testing": {
    "enabled": false,
    "framework": "pytest"
  },

  // ======================================================================
  // AUTOMATION - Claude Code hooks
  // session, validate, format, plan - customize prompts and behavior
  // ======================================================================
  "hooks": {
    // === SessionStart - shows git status, project info ===
    "session": {
      "enabled": true,
      "show_git_status": true,
      "prompts": {
        "branch": "\ud83d\udccd {branch}",
        "staged": "\u26a1{count} staged",
        "modified": "\u270f\ufe0f{count} modified",
        "untracked": "\u2753{count} untracked",
        "hint": "Use `/dk` for commands, `/dk dev` for workflow",
        "system_warning": "\u26a0\ufe0f Project has issues - check with /dk plugin check"
      }
    },

    // === PreToolUse:Bash - validates git/gh commands ===
    "validate": {
      "enabled": true,
      "block_force_push": true,
      "block_dangerous_gh": true,
      "prompts": {
        "branch_invalid": "Branch '{branch}' should match: {pattern}",
        "commit_invalid": "Commit should match: type(scope): message (types: {types})",
        "scope_invalid": "Unknown scope '{scope}'. Allowed: {allowed}",
        "force_push_blocked": "Force push is blocked. Use --force-with-lease if needed.",
        "gh_blocked": "Blocked: '{cmd}' - too dangerous for automatic execution",
        "pr_missing_body": "gh pr create requires --body with PR template"
      }
    },

    // === PostToolUse:Write/Edit - auto-format, arch check ===
    "format": {
      "enabled": true,
      "auto_format": true,
      "arch_check": true,
      "auto_sync_arch": true,
      "eslint": {
        "enabled": true,
        "auto_fix": true
      },
      "prompts": {
        "formatted": "\u2713 Formatted: {file}",
        "test_reminder": "\ud83d\udca1 New file - consider adding: tests/{file}",
        "arch_violation": "\u26a0\ufe0f Arch violation: {message}",
        "arch_synced": "\ud83d\udcc4 Updated docs/ARCHITECTURE.md"
      }
    },

    // === PostToolUse:ExitPlanMode - planning and implementation guidance ===
    "plan": {
      "enabled": true,
      "enforce_workflow": "warn",
      "prompts": {
        "workflow_required": "\u26a0\ufe0f You're on `{branch}` - use `/dk dev feat|fix|chore <desc>` to create a feature branch first."
      },
      "planning": {
        "requirements": [
          "Identify affected layers (check arch.layers)",
          "List files to modify vs. create",
          "Consider edge cases and error handling",
          "Check for breaking changes"
        ],
        "structure": [
          "## Overview - What and why",
          "## Affected Files - List with rationale",
          "## Implementation Steps - Ordered tasks",
          "## Testing Strategy - How to verify",
          "## Risks - What could go wrong"
        ]
      },
      "implementation": {
        "header": "## Implementation Phase",
        "instructions": [
          "Complete one task at a time, mark done in todo list",
          "Run linters after code changes",
          "Run tests if available",
          "Use conventional commits: type(scope): message",
          "Ask if blocked or unclear"
        ]
      },
      "hints": [
        "\ud83d\udccb Before adding features, read docs/DEVELOPMENT.md for checklists",
        "Respect layer boundaries if arch.layers is configured",
        "New modules should have corresponding tests",
        "Run /dk plugin check after changes to verify consistency"
      ]
    },

    "arch_guard": {
      "enabled": true,
      "discovery_enabled": true,
      "discovery_threshold": 0.7,
      "prompts": {
        "blocked": "\ud83d\udeab BLOCKED - Layer violation: {message}. Fix imports before writing.",
        "similar_found": "\u26a0\ufe0f Similar code exists - consider reusing: {matches}"
      }
    }
  },

  // ======================================================================
  // AUTOMATION - Changelog generation
  // audience (developer|user) - controls detail level
  // ======================================================================
  "changelog": {
    "audience": "developer"
  },

  // ======================================================================
  // DEPLOYMENT - Platform configuration
  // platform (vercel|railway|etc), env_sync, production_domain
  // ======================================================================
  "deployment": {
    "enabled": false,
    "platforms": [],
    "note": "Claude Code plugins are not deployed. They run locally via Claude Code."
  },

  // ======================================================================
  // ARCHITECTURE - Clean Architecture layers
  // layers with tier (0=innermost), patterns, description
  // ======================================================================
  "arch": {
    "layers": {}
  },

  // ======================================================================
  // OBSERVABILITY - Logging service configuration
  // providers (axiom|sentry|logrocket|datadog|pino|winston)
  // ======================================================================
  "logging": {
    "enabled": true,
    "strategy": "auto"
  },

  // ======================================================================
  // MANAGED FILES - Auto-generated by /dk plugin update
  // linters, github, docs, ignore - set enabled:false to skip
  // ======================================================================
  "managed": {
    "linters": {
      ".markdownlint.json": {
        "template": "linters/common/markdownlint.json.template",
        "enabled": true
      },
      ".markdownlintignore": {
        "template": "gitignore/markdownlint.ignore",
        "enabled": true
      }
    },
    "github": {
      ".github/workflows/claude.yml": {
        "template": "github/workflows/claude.yml.template",
        "enabled": true
      },
      ".github/workflows/claude-code-review.yml": {
        "template": "github/workflows/claude-code-review.yml.template",
        "enabled": true
      },
      ".github/ISSUE_TEMPLATE/bug_report.yml": {
        "template": "github/ISSUE_TEMPLATE/bug_report.yml.template",
        "enabled": true
      },
      ".github/ISSUE_TEMPLATE/feature_request.yml": {
        "template": "github/ISSUE_TEMPLATE/feature_request.yml.template",
        "enabled": true
      },
      ".github/ISSUE_TEMPLATE/config.yml": {
        "template": "github/ISSUE_TEMPLATE/config.yml.template",
        "enabled": true
      },
      ".github/PULL_REQUEST_TEMPLATE.md": {
        "template": "github/PULL_REQUEST_TEMPLATE.md.template",
        "enabled": true
      },
      ".github/workflows/release.yml": {
        "template": "github/workflows/release-python.yml.template",
        "enabled": true
      }
    },
    "docs": {
      "README.md": {
        "type": "auto_sections",
        "enabled": true
      },
      "CLAUDE.md": {
        "type": "auto_sections",
        "enabled": true
      },
      "docs/PLUGIN.md": {
        "type": "template",
        "template": "docs/PLUGIN.md.template",
        "enabled": true
      },
      "docs/DEVELOPMENT.md": {
        "type": "auto_generate",
        "enabled": true
      }
    },
    "ignore": {
      ".gitignore": {
        "template": [
          "gitignore/common.gitignore",
          "gitignore/python.gitignore"
        ],
        "enabled": true
      }
    }
  },

  "marketplace": {
    "username": "vndredev",
    "repo_name": "claude-marketplace",
    "local_dir": "/Users/andreschmidt/dev/claude-marketplace"
  },

  "discovery": {
    "enabled": true,
    "threshold": 0.7
  }

}